import datetime
import mongoengine

from data.biospecimens import Biospecimen
from data.assay_classes import AssayMetaData
# from data.redcap import Redcap
# from data.assay_classes import Proteomic
# from data.assay_classes import Cytokine
# from data.assay_classes import Metabolomic
# from data.assay_classes import scRNAseq
# from data.scrnaseq_summary import ScRNAseqSummary
from data.users import User

site_choices = (('1', 'ITH'),
                ('2', 'LA'),
                ('3', 'NYC'),
                ('Pending', 'Pending'))
sex_choices = (('F', 'Female'),
               ('M', 'Male'),
               ('Mt', 'Trans-male'),
               ('Ft', 'Trans-female'),
               ('Pending', 'Pending'))
phenotype_choices = (('HC', 'Healthy control'), ('ME/CFS', 'ME/CFS participant'),
                 ('Pending', 'Pending'))
ethnicity_choice = (('1', 'Hispanic or Latino'),
                    ('2', 'Not Hispanic or Latino'),
                    ('3', 'Unknown'),
                    ('NA', 'Not applicable'),
                    ('Pending', 'Pending'))
race_choice = (('1', 'American Indian or Alaska Native'),
               ('2', 'Asian'),
               ('3', 'Black or African American'),
               ('4', 'Native Hawaiian or other Pacific Islander'),
               ('5', 'White'),
               ('6', 'Unknown'),
               ('NA', 'Not applicable'),
               ('Pending', 'Pending'))
mecfs_sudden_gradual_choice = (('1', 'Sudden'), ('2', 'Gradual'), ('NA', 'Not applicable'),
               ('Pending', 'Pending'))
qmep_sudevent_choice = (('1', 'Viral illness'),
                        ('2', 'Viral-like illness'),
                        ('3', 'Food poisoning'),
                        ('4', 'Physical trauma'),
                        ('5', 'Life stress event'),
                        ('6', 'Vaccine'),
                        ('7', 'Other'),
                        ('8', 'Multiple'),
                        ('NA', 'Not applicable'),
               ('Pending', 'Pending'))
change_choice = (('1', '(-.499 to 4.99%)'),
                 ('2', '(>=5%)'),
                 ('3', '(=<5%)'),
                 ('NA', 'Not applicable'),
               ('Pending', 'Pending'))


class ClinicalData(mongoengine.Document):
    created_by = mongoengine.ReferenceField(User, required=True)
    created_date = mongoengine.DateTimeField(required=True)
    last_modified_by = mongoengine.ReferenceField(User, required=True)
    last_modified_date = mongoengine.DateTimeField(default=datetime.datetime.now)

    data_file_name = mongoengine.StringField(required=True)
    version_number = mongoengine.IntField(required=True)
    study_id = mongoengine.IntField(required=True)
    cu_id = mongoengine.StringField(required=True)
    cor_id = mongoengine.StringField(required=True)
    pub_id = mongoengine.StringField(required=True)
    biospecimen_data_references = mongoengine.ListField(mongoengine.ReferenceField(Biospecimen))
    site = mongoengine.StringField()
    # site = mongoengine.StringField(choices=site_choices)
    sex = mongoengine.StringField()
    # sex = mongoengine.StringField(choices=sex_choices)
    phenotype = mongoengine.StringField()
    # phenotype = mongoengine.StringField(choices=phenotype_choices)
    age = mongoengine.IntField()
    age_binned = mongoengine.IntField()
    height_in = mongoengine.FloatField()
    weight_lbs = mongoengine.FloatField()
    bmi = mongoengine.FloatField()
    bmi_binned = mongoengine.IntField()
    ethnicity = mongoengine.StringField()
    race = mongoengine.StringField()
    mecfs_sudden_gradual = mongoengine.StringField()
    qmep_sudevent = mongoengine.StringField()
    # ethnicity = mongoengine.StringField(choices=ethnicity_choice)
    # race = mongoengine.StringField(choices=race_choice)
    # mecfs_sudden_gradual = mongoengine.StringField(choices=mecfs_sudden_gradual_choice)
    # qmep_sudevent = mongoengine.StringField(choices=qmep_sudevent_choice)
    mecfs_duration = mongoengine.IntField()
    mecfs_duration_binned = mongoengine.IntField()
    qmep_mediagnosis = mongoengine.DateField()
    qmep_mesymptoms = mongoengine.DateField()
    qmep_metimediagnosis = mongoengine.StringField()
    cpet_d1 = mongoengine.DateField()
    cpet_d2 = mongoengine.DateField()
    vo2peak1 = mongoengine.FloatField()
    vo2peak2 = mongoengine.FloatField()
    vo2change = mongoengine.StringField()
    # vo2change = mongoengine.StringField(choices=change_choice)
    at1 = mongoengine.FloatField()
    at2 = mongoengine.FloatField()
    atchange = mongoengine.StringField()
    # atchange = mongoengine.StringField(choices=change_choice)
    pf = mongoengine.FloatField()
    pf_binned = mongoengine.IntField()
    rp = mongoengine.FloatField()
    rp_binned = mongoengine.IntField()
    bp = mongoengine.FloatField()
    bp_binned = mongoengine.IntField()
    gh = mongoengine.FloatField()
    gh_binned = mongoengine.IntField()
    vt = mongoengine.FloatField()
    vt_binned = mongoengine.IntField()
    sf = mongoengine.FloatField()
    sf_binned = mongoengine.IntField()
    re = mongoengine.FloatField()
    re_binned = mongoengine.IntField()
    mh = mongoengine.FloatField()
    mh_binned = mongoengine.IntField()
    pf_nbs = mongoengine.FloatField()
    pf_nbs_binned = mongoengine.IntField()
    rp_nbs = mongoengine.FloatField()
    rp_nbs_binned = mongoengine.IntField()
    bp_nbs = mongoengine.FloatField()
    bp_nbs_binned = mongoengine.IntField()
    gh_nbs = mongoengine.FloatField()
    gh_nbs_binned = mongoengine.IntField()
    vt_nbs = mongoengine.FloatField()
    vt_nbs_binned = mongoengine.IntField()
    sf_nbs = mongoengine.FloatField()
    sf_nbs_binned = mongoengine.IntField()
    re_nbs = mongoengine.FloatField()
    re_nbs_binned = mongoengine.IntField()
    mh_nbs = mongoengine.FloatField()
    mh_nbs_binned = mongoengine.IntField()
    pcs = mongoengine.FloatField()
    pcs_binned = mongoengine.IntField()
    mcs = mongoengine.FloatField()
    mcs_binned = mongoengine.IntField()
    bas_score = mongoengine.IntField()
    bas_score_binned = mongoengine.IntField()
    sss_initial_1 = mongoengine.IntField()
    sss_initial_2 = mongoengine.IntField()
    sss_initial_3 = mongoengine.IntField()
    sss_initial_4 = mongoengine.IntField()
    sss_initial_5 = mongoengine.IntField()
    sss_initial_6 = mongoengine.IntField()
    sss_initial_7 = mongoengine.IntField()
    sss_initial_8 = mongoengine.IntField()
    sss_initial_9 = mongoengine.IntField()
    sss_cpet1_pre_1 = mongoengine.IntField()
    sss_cpet1_pre_2 = mongoengine.IntField()
    sss_cpet1_pre_3 = mongoengine.IntField()
    sss_cpet1_pre_4 = mongoengine.IntField()
    sss_cpet1_pre_5 = mongoengine.IntField()
    sss_cpet1_pre_6 = mongoengine.IntField()
    sss_cpet1_pre_7 = mongoengine.IntField()
    sss_cpet1_pre_8 = mongoengine.IntField()
    sss_cpet1_pre_9 = mongoengine.IntField()
    sss_cpet2_pre_1 = mongoengine.IntField()
    sss_cpet2_pre_2 = mongoengine.IntField()
    sss_cpet2_pre_3 = mongoengine.IntField()
    sss_cpet2_pre_4 = mongoengine.IntField()
    sss_cpet2_pre_5 = mongoengine.IntField()
    sss_cpet2_pre_6 = mongoengine.IntField()
    sss_cpet2_pre_7 = mongoengine.IntField()
    sss_cpet2_pre_8 = mongoengine.IntField()
    sss_cpet2_pre_9 = mongoengine.IntField()
    sss_2days_post_1 = mongoengine.IntField()
    sss_2days_post_2 = mongoengine.IntField()
    sss_2days_post_3 = mongoengine.IntField()
    sss_2days_post_4 = mongoengine.IntField()
    sss_2days_post_5 = mongoengine.IntField()
    sss_2days_post_6 = mongoengine.IntField()
    sss_2days_post_7 = mongoengine.IntField()
    sss_2days_post_8 = mongoengine.IntField()
    sss_2days_post_9 = mongoengine.IntField()
    sss_4days_post_1 = mongoengine.IntField()
    sss_4days_post_2 = mongoengine.IntField()
    sss_4days_post_3 = mongoengine.IntField()
    sss_4days_post_4 = mongoengine.IntField()
    sss_4days_post_5 = mongoengine.IntField()
    sss_4days_post_6 = mongoengine.IntField()
    sss_4days_post_7 = mongoengine.IntField()
    sss_4days_post_8 = mongoengine.IntField()
    sss_4days_post_9 = mongoengine.IntField()
    sss_6days_post_1 = mongoengine.IntField()
    sss_6days_post_2 = mongoengine.IntField()
    sss_6days_post_3 = mongoengine.IntField()
    sss_6days_post_4 = mongoengine.IntField()
    sss_6days_post_5 = mongoengine.IntField()
    sss_6days_post_6 = mongoengine.IntField()
    sss_6days_post_7 = mongoengine.IntField()
    sss_6days_post_8 = mongoengine.IntField()
    sss_6days_post_9 = mongoengine.IntField()
    sss_8days_post_1 = mongoengine.IntField()
    sss_8days_post_2 = mongoengine.IntField()
    sss_8days_post_3 = mongoengine.IntField()
    sss_8days_post_4 = mongoengine.IntField()
    sss_8days_post_5 = mongoengine.IntField()
    sss_8days_post_6 = mongoengine.IntField()
    sss_8days_post_7 = mongoengine.IntField()
    sss_8days_post_8 = mongoengine.IntField()
    sss_8days_post_9 = mongoengine.IntField()
    sss_10days_post_1 = mongoengine.IntField()
    sss_10days_post_2 = mongoengine.IntField()
    sss_10days_post_3 = mongoengine.IntField()
    sss_10days_post_4 = mongoengine.IntField()
    sss_10days_post_5 = mongoengine.IntField()
    sss_10days_post_6 = mongoengine.IntField()
    sss_10days_post_7 = mongoengine.IntField()
    sss_10days_post_8 = mongoengine.IntField()
    sss_10days_post_9 = mongoengine.IntField()
    mfi20_gf = mongoengine.IntField()
    mfi20_gf_binned = mongoengine.IntField()
    mfi20_pf = mongoengine.IntField()
    mfi20_pf_binned = mongoengine.IntField()
    mfi20_ra = mongoengine.IntField()
    mfi20_ra_binned = mongoengine.IntField()
    mfi20_rm = mongoengine.IntField()
    mfi20_rm_binned = mongoengine.IntField()
    mfi20_mf = mongoengine.IntField()
    mfi20_mf_binned = mongoengine.IntField()
    mfi20_total = mongoengine.IntField()
    mfi20_total_binned = mongoengine.IntField()
    pem_max_delta = mongoengine.FloatField()
    pem_max_delta_binned = mongoengine.IntField()
    q_education = mongoengine.IntField()
    q_maritalstatus = mongoengine.IntField()
    q_workstatus = mongoengine.IntField()
    workstatus_summary = mongoengine.IntField()
    qmep_stopworking = mongoengine.IntField()
    q_livedwithme = mongoengine.IntField()
    q_bloodtransfusion = mongoengine.IntField()
    q_periods = mongoengine.IntField()
    q_smoker = mongoengine.IntField()
    q_pets = mongoengine.IntField()
    q_petsdetails = mongoengine.IntField()
    q_light = mongoengine.IntField()
    q_noise = mongoengine.IntField()
    q_odors = mongoengine.IntField()
    q_oisymptoms = mongoengine.IntField()
    q_physicalactivity = mongoengine.IntField()
    q_physicalact_intense = mongoengine.IntField()
    q_physicalact_minperwk = mongoengine.FloatField()
    qmep_physicalactonset = mongoengine.IntField()
    qmep_physicalactonset_intense = mongoengine.IntField()
    qmep_physicalactonset_minperwk = mongoengine.FloatField()
    q_notexercising = mongoengine.IntField()
    q_painactivity = mongoengine.IntField()
    qmep_symptomfreq_1 = mongoengine.IntField()
    qmep_symptomfreq_2 = mongoengine.IntField()
    qmep_symptomfreq_3 = mongoengine.IntField()
    qmep_symptomfreq_4 = mongoengine.IntField()
    qmep_symptomfreq_5 = mongoengine.IntField()
    qmep_symptomsev_1 = mongoengine.IntField()
    qmep_symptomsev_2 = mongoengine.IntField()
    qmep_symptomsev_3 = mongoengine.IntField()
    qmep_symptomsev_4 = mongoengine.IntField()
    qmep_symptomsev_5 = mongoengine.IntField()
    q_gisymptoms = mongoengine.IntField()
    q_alcohol = mongoengine.IntField()
    q_alcohol_dpw = mongoengine.FloatField()

    qmep_lived = mongoengine.StringField()

    qmep_livedarea = mongoengine.IntField()
    q_famhistory_heart = mongoengine.IntField()
    q_famhistory_stroke = mongoengine.IntField()
    q_famhistory_diabetes = mongoengine.IntField()
    q_famhistory_bloodpre = mongoengine.IntField()
    q_famhistory_cholest = mongoengine.IntField()
    q_famhistory_mecfs = mongoengine.IntField()
    q_famhistory_fm = mongoengine.IntField()
    q_famhistory_ms = mongoengine.IntField()
    q_famhistory_polio = mongoengine.IntField()
    q_famhistory_graves = mongoengine.IntField()
    q_famhistory_ra = mongoengine.IntField()
    q_famhistory_autism = mongoengine.IntField()
    q_famhistory_ht = mongoengine.IntField()
    q_famhistory_lupus = mongoengine.IntField()
    q_famhistory_lymphoma = mongoengine.IntField()
    q_famhistory_leuk = mongoengine.IntField()
    q_famhistory_smallfi = mongoengine.IntField()
    q_famhistory_mcs = mongoengine.IntField()
    q_famhistory_cancer = mongoengine.IntField()
    q_famhistory_ibs = mongoengine.IntField()
    q_famhistory_crohns = mongoengine.IntField()
    q_famhistory_anemia = mongoengine.IntField()
    q_famhistory_uc = mongoengine.IntField()
    q_famhistory_thyroid = mongoengine.IntField()
    q_famhistory_sarcoid = mongoengine.IntField()
    q_famhistory_sjogrens = mongoengine.IntField()
    q_famhistoryme_wegeners = mongoengine.IntField()
    q_famhistory_ehlers = mongoengine.IntField()
    q_famhistory_aag = mongoengine.IntField()
    q_famhistory_diabetest1 = mongoengine.IntField()
    q_famhistory_ai = mongoengine.IntField()
    q_famhistory_ibd = mongoengine.IntField()
    q_famhistory_intdis = mongoengine.IntField()
    q_medhistory_heart = mongoengine.IntField()
    q_medhistory_stroke = mongoengine.IntField()
    q_medhistory_diabetes = mongoengine.IntField()
    q_medhistory_bloodpress = mongoengine.IntField()
    q_medhistory_cholest = mongoengine.IntField()
    q_medhistory_murmur = mongoengine.IntField()
    q_medhistory_rhythm = mongoengine.IntField()
    q_medhistory_rheufever = mongoengine.IntField()
    q_medhistory_lung = mongoengine.IntField()
    q_medhistory_epilepsy = mongoengine.IntField()
    q_medhistory_injury = mongoengine.IntField()
    q_medhistory_mecfs = mongoengine.IntField()
    q_medhistory_fm = mongoengine.IntField()
    q_medhistory_ms = mongoengine.IntField()
    q_medhistory_polio = mongoengine.IntField()
    q_medhistory_graves = mongoengine.IntField()
    q_medhistory_ra = mongoengine.IntField()
    q_medhistory_autism = mongoengine.IntField()
    q_medhistory_ht = mongoengine.IntField()
    q_medhistory_lupus = mongoengine.IntField()
    q_medhistory_lymphoma = mongoengine.IntField()
    q_medhistory_leukemia = mongoengine.IntField()
    q_medhistory_smallfiber = mongoengine.IntField()
    q_medhistory_mcs = mongoengine.IntField()
    q_medhistory_cancer = mongoengine.IntField()
    q_medhistory_ibs = mongoengine.IntField()
    q_medhistory_crohns = mongoengine.IntField()
    q_medhistory_anemia = mongoengine.IntField()
    q_medhistory_colitis = mongoengine.IntField()
    q_medhistory_thyroid = mongoengine.IntField()
    q_medhistory_sarcoid = mongoengine.IntField()
    q_medhistory_sjogrens = mongoengine.IntField()
    q_medhistory_wegeners = mongoengine.IntField()
    q_medhistory_ehlers = mongoengine.IntField()
    q_medhistory_aag = mongoengine.IntField()
    q_medhistory_allergy = mongoengine.IntField()
    q_medhistory_reflux = mongoengine.IntField()
    q_medhistory_esophag = mongoengine.IntField()
    q_medhistory_hernia = mongoengine.IntField()
    q_medhistory_endo = mongoengine.IntField()
    q_medhistory_mono = mongoengine.IntField()
    q_medhistory_pots = mongoengine.IntField()
    q_medhistory_asthma = mongoengine.IntField()
    q_medhistory_neuroten = mongoengine.IntField()
    q_medhistory_orthoten = mongoengine.IntField()
    q_medhistory_ai = mongoengine.IntField()
    q_medhistory_ibd = mongoengine.IntField()
    q_medhistory_intdis = mongoengine.IntField()
    q_mealsperday = mongoengine.IntField()
    q_eatmeat = mongoengine.IntField()
    q_eatfish = mongoengine.IntField()
    q_probiotics = mongoengine.IntField()
    q_stress = mongoengine.IntField()
    qmep_mecourse = mongoengine.IntField()
    q_sleepnight = mongoengine.FloatField()
    q_hoursinbed = mongoengine.FloatField()
    q_reclined = mongoengine.FloatField()
    q_sleep24hours = mongoengine.FloatField()
    q_sleeprefreshing = mongoengine.IntField()

    q_medications = mongoengine.StringField()
    q_lastantibiotic = mongoengine.DateTimeField()
    q_lastantibiotic_details = mongoengine.StringField()
    q_supplements = mongoengine.StringField()

    aceinhibitor = mongoengine.IntField()
    acetaminophen = mongoengine.IntField()
    albuterol_xopenex = mongoengine.IntField()
    allegra = mongoengine.IntField()
    # ambien = mongoengine.IntField()
    antivirals = mongoengine.IntField()
    aspirin = mongoengine.IntField()
    atypicalantidepressants = mongoengine.IntField()
    benzos = mongoengine.IntField()
    betablocker = mongoengine.IntField()
    fluticasone = mongoengine.IntField()
    # gabapentinoids = mongoengine.IntField()
    ibuprofen = mongoengine.IntField()
    levocetirizine_cetirizine = mongoengine.IntField()
    levothyroxine = mongoengine.IntField()
    loratadine = mongoengine.IntField()
    # lunesta = mongoengine.IntField()
    naltrexone = mongoengine.IntField()
    ppi = mongoengine.IntField()
    sexhormones = mongoengine.IntField()
    # snri = mongoengine.IntField()
    # ssri = mongoengine.IntField()
    statins = mongoengine.IntField()
    # tramadol = mongoengine.IntField()
    # zantac = mongoengine.IntField()
    zofran = mongoengine.IntField()
    zomig = mongoengine.IntField()
    pahq_activity = mongoengine.IntField()
    pahq_activitylength = mongoengine.IntField()

    pahq_activitylist = mongoengine.StringField()

    mtrx_last10hr1_d1 = mongoengine.IntField()
    mtrx_last10hr2_d1 = mongoengine.IntField()
    mtrx_last10hr3_d1 = mongoengine.IntField()

    hh24hr_eaten_d1 = mongoengine.StringField()
    hh24hr_coffeetea_d1 = mongoengine.StringField()
    hh24hr_smoke_d1 = mongoengine.StringField()
    hh24hr_alcohol_d1 = mongoengine.StringField()
    hh24hr_blood_d1 = mongoengine.StringField()
    hh24hr_illness_d1 = mongoengine.StringField()
    hh24hr_respiratory_d1 = mongoengine.StringField()
    hh24hr_medication_d1 = mongoengine.StringField()
    hh24hr_peyesterday_d1 = mongoengine.StringField()
    hh24hr_petoday_d1 = mongoengine.StringField()

    hh24hr_overall_d1 = mongoengine.IntField()
    mtrx_last10hr1_d2 = mongoengine.IntField()
    mtrx_last10hr2_d2 = mongoengine.IntField()
    mtrx_last10hr3_d2 = mongoengine.IntField()

    hh24hr_eaten_d2 = mongoengine.StringField()
    hh24hr_coffeetea_d2 = mongoengine.StringField()
    hh24hr_smoke_d2 = mongoengine.StringField()
    hh24hr_alcohol_d2 = mongoengine.StringField()
    hh24hr_blood_d2 = mongoengine.StringField()
    hh24hr_illness_d2 = mongoengine.StringField()
    hh24hr_respiratory_d2 = mongoengine.StringField()
    hh24hr_medication_d2 = mongoengine.StringField()
    hh24hr_peyesterday_d2 = mongoengine.StringField()
    hh24hr_petoday_d2 = mongoengine.StringField()
    hh24hr_overall_d2 = mongoengine.IntField()

    exclude = mongoengine.StringField()
    exclude_details = mongoengine.StringField()

    # biospecimens = mongoengine.EmbeddedDocumentListField(Biospecimen)
    assay_meta_data = mongoengine.EmbeddedDocumentListField(AssayMetaData)
    # scrnaseq_summary = mongoengine.EmbeddedDocumentListField(ScRNAseqSummary)

    @classmethod
    def get_demographic_attributes(cls):
        # Remove non-JSON serializable objects
        excludeFields = ['objects', 'DoesNotExist', 'MultipleObjectsReturned', 'id',
                         'biospecimen_data_references', 'assay_meta_data',
                         'scrnaseq_summary', 'get_demographic_attributes', 'demographic_data_only',
                         'assay_data_only', 'scrnaseq_summary_data_only']
        return [i for i in cls.__dict__.keys() if not i.startswith('_') and i not in excludeFields]

    @mongoengine.queryset_manager
    def demographic_data_only(doc_cls, queryset):
        return queryset.exclude('biospecimen_data_references',
                                'assay_meta_data',
                                'scrnaseq_summary').order_by('phenotype')

    @mongoengine.queryset_manager
    def assay_data_only(doc_cls, queryset):
        return queryset.exclude('biospecimen_data_references').order_by('phenotype')

    @mongoengine.queryset_manager
    def scrnaseq_summary_data_only(doc_cls, queryset):
        return queryset.exclude('biospecimen_data_references',
                                'assay_meta_data').order_by('phenotype')

    meta = {
        'db_alias': 'core',
        'collection': 'demographic_data',
        'ordering': ['-study_id'],
        'indexes': ['study_id',
                    '$phenotype',
                    'assay_meta_data.unique_id']
    }


class ClinicalDataVersionHistory(mongoengine.Document):
    # This class should be an exact copy of the the above class with only the collection name
    # changed in the meta data. I know this is what inheritance is for, but for some reason
    # mongoengine won't allow the setting of a collection in a sub-class
    created_by = mongoengine.ReferenceField(User, required=True)
    created_date = mongoengine.DateTimeField(required=True)
    last_modified_by = mongoengine.ReferenceField(User, required=True)
    last_modified_date = mongoengine.DateTimeField(default=datetime.datetime.now)

    data_file_name = mongoengine.StringField(required=True)
    version_number = mongoengine.IntField(required=True)
    study_id = mongoengine.IntField(required=True)
    cu_id = mongoengine.StringField(required=True)
    cor_id = mongoengine.StringField(required=True)
    pub_id = mongoengine.StringField(required=True)
    biospecimen_data_references = mongoengine.ListField(mongoengine.ReferenceField(Biospecimen))
    site = mongoengine.StringField()
    sex = mongoengine.StringField()
    phenotype = mongoengine.StringField()
    # site = mongoengine.StringField(choices=site_choices)
    # sex = mongoengine.StringField(choices=sex_choices)
    # phenotype = mongoengine.StringField(choices=phenotype_choices)
    age = mongoengine.IntField()
    age_binned = mongoengine.IntField()
    height_in = mongoengine.FloatField()
    weight_lbs = mongoengine.FloatField()
    bmi = mongoengine.FloatField()
    bmi_binned = mongoengine.IntField()
    ethnicity = mongoengine.StringField()
    race = mongoengine.StringField()
    mecfs_sudden_gradual = mongoengine.StringField()
    qmep_sudevent = mongoengine.StringField()
    # ethnicity = mongoengine.StringField(choices=ethnicity_choice)
    # race = mongoengine.StringField(choices=race_choice)
    # mecfs_sudden_gradual = mongoengine.StringField(choices=mecfs_sudden_gradual_choice)
    # qmep_sudevent = mongoengine.StringField(choices=qmep_sudevent_choice)
    mecfs_duration = mongoengine.IntField()
    mecfs_duration_binned = mongoengine.IntField()
    qmep_mediagnosis = mongoengine.DateField()
    qmep_mesymptoms = mongoengine.DateField()
    qmep_metimediagnosis = mongoengine.StringField()
    cpet_d1 = mongoengine.DateField()
    cpet_d2 = mongoengine.DateField()
    vo2peak1 = mongoengine.FloatField()
    vo2peak2 = mongoengine.FloatField()
    vo2change = mongoengine.StringField()
    # vo2change = mongoengine.StringField(choices=change_choice)
    at1 = mongoengine.FloatField()
    at2 = mongoengine.FloatField()
    atchange = mongoengine.StringField()
    # atchange = mongoengine.StringField(choices=change_choice)
    pf = mongoengine.FloatField()
    pf_binned = mongoengine.IntField()
    rp = mongoengine.FloatField()
    rp_binned = mongoengine.IntField()
    bp = mongoengine.FloatField()
    bp_binned = mongoengine.IntField()
    gh = mongoengine.FloatField()
    gh_binned = mongoengine.IntField()
    vt = mongoengine.FloatField()
    vt_binned = mongoengine.IntField()
    sf = mongoengine.FloatField()
    sf_binned = mongoengine.IntField()
    re = mongoengine.FloatField()
    re_binned = mongoengine.IntField()
    mh = mongoengine.FloatField()
    mh_binned = mongoengine.IntField()
    pf_nbs = mongoengine.FloatField()
    pf_nbs_binned = mongoengine.IntField()
    rp_nbs = mongoengine.FloatField()
    rp_nbs_binned = mongoengine.IntField()
    bp_nbs = mongoengine.FloatField()
    bp_nbs_binned = mongoengine.IntField()
    gh_nbs = mongoengine.FloatField()
    gh_nbs_binned = mongoengine.IntField()
    vt_nbs = mongoengine.FloatField()
    vt_nbs_binned = mongoengine.IntField()
    sf_nbs = mongoengine.FloatField()
    sf_nbs_binned = mongoengine.IntField()
    re_nbs = mongoengine.FloatField()
    re_nbs_binned = mongoengine.IntField()
    mh_nbs = mongoengine.FloatField()
    mh_nbs_binned = mongoengine.IntField()
    pcs = mongoengine.FloatField()
    pcs_binned = mongoengine.IntField()
    mcs = mongoengine.FloatField()
    mcs_binned = mongoengine.IntField()
    bas_score = mongoengine.IntField()
    bas_score_binned = mongoengine.IntField()
    sss_initial_1 = mongoengine.IntField()
    sss_initial_2 = mongoengine.IntField()
    sss_initial_3 = mongoengine.IntField()
    sss_initial_4 = mongoengine.IntField()
    sss_initial_5 = mongoengine.IntField()
    sss_initial_6 = mongoengine.IntField()
    sss_initial_7 = mongoengine.IntField()
    sss_initial_8 = mongoengine.IntField()
    sss_initial_9 = mongoengine.IntField()
    sss_cpet1_pre_1 = mongoengine.IntField()
    sss_cpet1_pre_2 = mongoengine.IntField()
    sss_cpet1_pre_3 = mongoengine.IntField()
    sss_cpet1_pre_4 = mongoengine.IntField()
    sss_cpet1_pre_5 = mongoengine.IntField()
    sss_cpet1_pre_6 = mongoengine.IntField()
    sss_cpet1_pre_7 = mongoengine.IntField()
    sss_cpet1_pre_8 = mongoengine.IntField()
    sss_cpet1_pre_9 = mongoengine.IntField()
    sss_cpet2_pre_1 = mongoengine.IntField()
    sss_cpet2_pre_2 = mongoengine.IntField()
    sss_cpet2_pre_3 = mongoengine.IntField()
    sss_cpet2_pre_4 = mongoengine.IntField()
    sss_cpet2_pre_5 = mongoengine.IntField()
    sss_cpet2_pre_6 = mongoengine.IntField()
    sss_cpet2_pre_7 = mongoengine.IntField()
    sss_cpet2_pre_8 = mongoengine.IntField()
    sss_cpet2_pre_9 = mongoengine.IntField()
    sss_2days_post_1 = mongoengine.IntField()
    sss_2days_post_2 = mongoengine.IntField()
    sss_2days_post_3 = mongoengine.IntField()
    sss_2days_post_4 = mongoengine.IntField()
    sss_2days_post_5 = mongoengine.IntField()
    sss_2days_post_6 = mongoengine.IntField()
    sss_2days_post_7 = mongoengine.IntField()
    sss_2days_post_8 = mongoengine.IntField()
    sss_2days_post_9 = mongoengine.IntField()
    sss_4days_post_1 = mongoengine.IntField()
    sss_4days_post_2 = mongoengine.IntField()
    sss_4days_post_3 = mongoengine.IntField()
    sss_4days_post_4 = mongoengine.IntField()
    sss_4days_post_5 = mongoengine.IntField()
    sss_4days_post_6 = mongoengine.IntField()
    sss_4days_post_7 = mongoengine.IntField()
    sss_4days_post_8 = mongoengine.IntField()
    sss_4days_post_9 = mongoengine.IntField()
    sss_6days_post_1 = mongoengine.IntField()
    sss_6days_post_2 = mongoengine.IntField()
    sss_6days_post_3 = mongoengine.IntField()
    sss_6days_post_4 = mongoengine.IntField()
    sss_6days_post_5 = mongoengine.IntField()
    sss_6days_post_6 = mongoengine.IntField()
    sss_6days_post_7 = mongoengine.IntField()
    sss_6days_post_8 = mongoengine.IntField()
    sss_6days_post_9 = mongoengine.IntField()
    sss_8days_post_1 = mongoengine.IntField()
    sss_8days_post_2 = mongoengine.IntField()
    sss_8days_post_3 = mongoengine.IntField()
    sss_8days_post_4 = mongoengine.IntField()
    sss_8days_post_5 = mongoengine.IntField()
    sss_8days_post_6 = mongoengine.IntField()
    sss_8days_post_7 = mongoengine.IntField()
    sss_8days_post_8 = mongoengine.IntField()
    sss_8days_post_9 = mongoengine.IntField()
    sss_10days_post_1 = mongoengine.IntField()
    sss_10days_post_2 = mongoengine.IntField()
    sss_10days_post_3 = mongoengine.IntField()
    sss_10days_post_4 = mongoengine.IntField()
    sss_10days_post_5 = mongoengine.IntField()
    sss_10days_post_6 = mongoengine.IntField()
    sss_10days_post_7 = mongoengine.IntField()
    sss_10days_post_8 = mongoengine.IntField()
    sss_10days_post_9 = mongoengine.IntField()
    mfi20_gf = mongoengine.IntField()
    mfi20_gf_binned = mongoengine.IntField()
    mfi20_pf = mongoengine.IntField()
    mfi20_pf_binned = mongoengine.IntField()
    mfi20_ra = mongoengine.IntField()
    mfi20_ra_binned = mongoengine.IntField()
    mfi20_rm = mongoengine.IntField()
    mfi20_rm_binned = mongoengine.IntField()
    mfi20_mf = mongoengine.IntField()
    mfi20_mf_binned = mongoengine.IntField()
    mfi20_total = mongoengine.IntField()
    mfi20_total_binned = mongoengine.IntField()
    pem_max_delta = mongoengine.FloatField()
    pem_max_delta_binned = mongoengine.IntField()
    q_education = mongoengine.IntField()
    q_maritalstatus = mongoengine.IntField()
    q_workstatus = mongoengine.IntField()
    workstatus_summary = mongoengine.IntField()
    qmep_stopworking = mongoengine.IntField()
    q_livedwithme = mongoengine.IntField()
    q_bloodtransfusion = mongoengine.IntField()
    q_periods = mongoengine.IntField()
    q_smoker = mongoengine.IntField()
    q_pets = mongoengine.IntField()
    q_petsdetails = mongoengine.IntField()
    q_light = mongoengine.IntField()
    q_noise = mongoengine.IntField()
    q_odors = mongoengine.IntField()
    q_oisymptoms = mongoengine.IntField()
    q_physicalactivity = mongoengine.IntField()
    q_physicalact_intense = mongoengine.IntField()
    q_physicalact_minperwk = mongoengine.FloatField()
    qmep_physicalactonset = mongoengine.IntField()
    qmep_physicalactonset_intense = mongoengine.IntField()
    qmep_physicalactonset_minperwk = mongoengine.FloatField()
    q_notexercising = mongoengine.IntField()
    q_painactivity = mongoengine.IntField()
    qmep_symptomfreq_1 = mongoengine.IntField()
    qmep_symptomfreq_2 = mongoengine.IntField()
    qmep_symptomfreq_3 = mongoengine.IntField()
    qmep_symptomfreq_4 = mongoengine.IntField()
    qmep_symptomfreq_5 = mongoengine.IntField()
    qmep_symptomsev_1 = mongoengine.IntField()
    qmep_symptomsev_2 = mongoengine.IntField()
    qmep_symptomsev_3 = mongoengine.IntField()
    qmep_symptomsev_4 = mongoengine.IntField()
    qmep_symptomsev_5 = mongoengine.IntField()
    q_gisymptoms = mongoengine.IntField()
    q_alcohol = mongoengine.IntField()
    q_alcohol_dpw = mongoengine.FloatField()

    qmep_lived = mongoengine.StringField()

    qmep_livedarea = mongoengine.IntField()
    q_famhistory_heart = mongoengine.IntField()
    q_famhistory_stroke = mongoengine.IntField()
    q_famhistory_diabetes = mongoengine.IntField()
    q_famhistory_bloodpre = mongoengine.IntField()
    q_famhistory_cholest = mongoengine.IntField()
    q_famhistory_mecfs = mongoengine.IntField()
    q_famhistory_fm = mongoengine.IntField()
    q_famhistory_ms = mongoengine.IntField()
    q_famhistory_polio = mongoengine.IntField()
    q_famhistory_graves = mongoengine.IntField()
    q_famhistory_ra = mongoengine.IntField()
    q_famhistory_autism = mongoengine.IntField()
    q_famhistory_ht = mongoengine.IntField()
    q_famhistory_lupus = mongoengine.IntField()
    q_famhistory_lymphoma = mongoengine.IntField()
    q_famhistory_leuk = mongoengine.IntField()
    q_famhistory_smallfi = mongoengine.IntField()
    q_famhistory_mcs = mongoengine.IntField()
    q_famhistory_cancer = mongoengine.IntField()
    q_famhistory_ibs = mongoengine.IntField()
    q_famhistory_crohns = mongoengine.IntField()
    q_famhistory_anemia = mongoengine.IntField()
    q_famhistory_uc = mongoengine.IntField()
    q_famhistory_thyroid = mongoengine.IntField()
    q_famhistory_sarcoid = mongoengine.IntField()
    q_famhistory_sjogrens = mongoengine.IntField()
    q_famhistoryme_wegeners = mongoengine.IntField()
    q_famhistory_ehlers = mongoengine.IntField()
    q_famhistory_aag = mongoengine.IntField()
    q_famhistory_diabetest1 = mongoengine.IntField()
    q_famhistory_ai = mongoengine.IntField()
    q_famhistory_ibd = mongoengine.IntField()
    q_famhistory_intdis = mongoengine.IntField()
    q_medhistory_heart = mongoengine.IntField()
    q_medhistory_stroke = mongoengine.IntField()
    q_medhistory_diabetes = mongoengine.IntField()
    q_medhistory_bloodpress = mongoengine.IntField()
    q_medhistory_cholest = mongoengine.IntField()
    q_medhistory_murmur = mongoengine.IntField()
    q_medhistory_rhythm = mongoengine.IntField()
    q_medhistory_rheufever = mongoengine.IntField()
    q_medhistory_lung = mongoengine.IntField()
    q_medhistory_epilepsy = mongoengine.IntField()
    q_medhistory_injury = mongoengine.IntField()
    q_medhistory_mecfs = mongoengine.IntField()
    q_medhistory_fm = mongoengine.IntField()
    q_medhistory_ms = mongoengine.IntField()
    q_medhistory_polio = mongoengine.IntField()
    q_medhistory_graves = mongoengine.IntField()
    q_medhistory_ra = mongoengine.IntField()
    q_medhistory_autism = mongoengine.IntField()
    q_medhistory_ht = mongoengine.IntField()
    q_medhistory_lupus = mongoengine.IntField()
    q_medhistory_lymphoma = mongoengine.IntField()
    q_medhistory_leukemia = mongoengine.IntField()
    q_medhistory_smallfiber = mongoengine.IntField()
    q_medhistory_mcs = mongoengine.IntField()
    q_medhistory_cancer = mongoengine.IntField()
    q_medhistory_ibs = mongoengine.IntField()
    q_medhistory_crohns = mongoengine.IntField()
    q_medhistory_anemia = mongoengine.IntField()
    q_medhistory_colitis = mongoengine.IntField()
    q_medhistory_thyroid = mongoengine.IntField()
    q_medhistory_sarcoid = mongoengine.IntField()
    q_medhistory_sjogrens = mongoengine.IntField()
    q_medhistory_wegeners = mongoengine.IntField()
    q_medhistory_ehlers = mongoengine.IntField()
    q_medhistory_aag = mongoengine.IntField()
    q_medhistory_allergy = mongoengine.IntField()
    q_medhistory_reflux = mongoengine.IntField()
    q_medhistory_esophag = mongoengine.IntField()
    q_medhistory_hernia = mongoengine.IntField()
    q_medhistory_endo = mongoengine.IntField()
    q_medhistory_mono = mongoengine.IntField()
    q_medhistory_pots = mongoengine.IntField()
    q_medhistory_asthma = mongoengine.IntField()
    q_medhistory_neuroten = mongoengine.IntField()
    q_medhistory_orthoten = mongoengine.IntField()
    q_medhistory_ai = mongoengine.IntField()
    q_medhistory_ibd = mongoengine.IntField()
    q_medhistory_intdis = mongoengine.IntField()
    q_mealsperday = mongoengine.IntField()
    q_eatmeat = mongoengine.IntField()
    q_eatfish = mongoengine.IntField()
    q_probiotics = mongoengine.IntField()
    q_stress = mongoengine.IntField()
    qmep_mecourse = mongoengine.IntField()
    q_sleepnight = mongoengine.FloatField()
    q_hoursinbed = mongoengine.FloatField()
    q_reclined = mongoengine.FloatField()
    q_sleep24hours = mongoengine.FloatField()
    q_sleeprefreshing = mongoengine.IntField()

    q_medications = mongoengine.StringField()
    q_lastantibiotic = mongoengine.DateTimeField()
    q_lastantibiotic_details = mongoengine.StringField()
    q_supplements = mongoengine.StringField()

    aceinhibitor = mongoengine.IntField()
    acetaminophen = mongoengine.IntField()
    albuterol_xopenex = mongoengine.IntField()
    allegra = mongoengine.IntField()
    # ambien = mongoengine.IntField()
    antivirals = mongoengine.IntField()
    aspirin = mongoengine.IntField()
    atypicalantidepressants = mongoengine.IntField()
    benzos = mongoengine.IntField()
    betablocker = mongoengine.IntField()
    fluticasone = mongoengine.IntField()
    # gabapentinoids = mongoengine.IntField()
    ibuprofen = mongoengine.IntField()
    levocetirizine_cetirizine = mongoengine.IntField()
    levothyroxine = mongoengine.IntField()
    loratadine = mongoengine.IntField()
    # lunesta = mongoengine.IntField()
    naltrexone = mongoengine.IntField()
    ppi = mongoengine.IntField()
    sexhormones = mongoengine.IntField()
    # snri = mongoengine.IntField()
    # ssri = mongoengine.IntField()
    statins = mongoengine.IntField()
    # tramadol = mongoengine.IntField()
    # zantac = mongoengine.IntField()
    zofran = mongoengine.IntField()
    zomig = mongoengine.IntField()
    pahq_activity = mongoengine.IntField()
    pahq_activitylength = mongoengine.IntField()

    pahq_activitylist = mongoengine.StringField()

    mtrx_last10hr1_d1 = mongoengine.IntField()
    mtrx_last10hr2_d1 = mongoengine.IntField()
    mtrx_last10hr3_d1 = mongoengine.IntField()

    hh24hr_eaten_d1 = mongoengine.StringField()
    hh24hr_coffeetea_d1 = mongoengine.StringField()
    hh24hr_smoke_d1 = mongoengine.StringField()
    hh24hr_alcohol_d1 = mongoengine.StringField()
    hh24hr_blood_d1 = mongoengine.StringField()
    hh24hr_illness_d1 = mongoengine.StringField()
    hh24hr_respiratory_d1 = mongoengine.StringField()
    hh24hr_medication_d1 = mongoengine.StringField()
    hh24hr_peyesterday_d1 = mongoengine.StringField()
    hh24hr_petoday_d1 = mongoengine.StringField()

    hh24hr_overall_d1 = mongoengine.IntField()
    mtrx_last10hr1_d2 = mongoengine.IntField()
    mtrx_last10hr2_d2 = mongoengine.IntField()
    mtrx_last10hr3_d2 = mongoengine.IntField()

    hh24hr_eaten_d2 = mongoengine.StringField()
    hh24hr_coffeetea_d2 = mongoengine.StringField()
    hh24hr_smoke_d2 = mongoengine.StringField()
    hh24hr_alcohol_d2 = mongoengine.StringField()
    hh24hr_blood_d2 = mongoengine.StringField()
    hh24hr_illness_d2 = mongoengine.StringField()
    hh24hr_respiratory_d2 = mongoengine.StringField()
    hh24hr_medication_d2 = mongoengine.StringField()
    hh24hr_peyesterday_d2 = mongoengine.StringField()
    hh24hr_petoday_d2 = mongoengine.StringField()
    hh24hr_overall_d2 = mongoengine.IntField()

    exclude = mongoengine.StringField()
    exclude_details = mongoengine.StringField()

    # biospecimens = mongoengine.EmbeddedDocumentListField(Biospecimen)
    assay_meta_data = mongoengine.EmbeddedDocumentListField(AssayMetaData)
    # scrnaseq_summary = mongoengine.EmbeddedDocumentListField(ScRNAseqSummary)

    meta = {
        'db_alias': 'core',
        'collection': 'demographic_data_version_history'
    }
